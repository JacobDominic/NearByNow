<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Community - NearbyNow</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">

    <script type="text/javascript" src="https://me.kis.v2.scr.kaspersky-labs.com/FD126C42-EBFA-4E12-B309-BB3FDD723AC1/main.js?attr=Fo3_51yFagj2GrEIlZb7OV-rbldzwCoJAEJPQ-JmuOetzsus3tdva1dC9s9NyI51vlNiF268dUgl01MepLb-0qpkNAZNKeadlFAM3Og2AtLJtmgPf6YOXv3Bd2w2Oq4B2BS-ncsznDXom43_AzmL4paQOdJcQH8lPJemH5t4IGI02S9QzYiTX9toTfaa4zuIqCWMZfuAHlqbLQVJmYmmTwUuNH2H7WiLGtOFjIgaCYi1DuWT-I59tGI2aN8CV6nX2hn-ZQtPb3ANwiwglhEahi2JQLbQBHGpjJtUErxj0-amdJ-xsce0wj3c3-IcTs2JHX9KCXUvHS9hjETqp4yPmXAe7R9jvLGmiah0sXoAMTmTEtqpw95Fs_zQhIO-stD4HIXZvAS8TGEOfCGfwozeyf5Btv3flPce7h3mlFo6LPu69Ng4ZOWvNyE62SjNEZ920nh9tv0RkNGtgqDmG1L3IYHdcfMkpnYuMk7JUY4M_Bca_IsQrECAWVkGeXI3qYvWVv7hz_J9cIPBzAOgZx-586OKUmdxPyHhW6AxCKQxker-72GxOMl7ATJdF1NoERdGPgKDGAIIY8hcgMZVBQORd0MKM23U_XTXGoCnfBV9wuTk-PHejBPvUS0QB0I_xd2ZO3NJH42N0mxxri81wfsBCQBwR9iqmhhUZMsEKEPnDQ0bAhBoANKIxCtl7gyWnWrSlnUtuK_aPdaeQsXkk7egiWL7cw0sw7QjP5HYBKwiZmsl6TJJCSLTSPsj5WEXoZ39YhZYBiW0u8OhfwIo3gT2ItlB7SnNHy_DfmW1yy8ZetIXCifBXNZARlqSkOhOD6CYYabcyJ4DhZo3ww2z4x6dRX8Ep_NqHxNmmjSBiSjoCytbvZEdpFc0d12nT_UDjhBUkzW9x_bvQNZbx50E39l9Gqm5pJgofmwR-ApTcYmHI3mDe_-8pNIO6epCYUQu9w8kZdEswwETE0BG_Qy-zxyup0Aiq6-Bvhxu-sTVPuto90oawXaIKjZnmYtwT01o2GbLPMIoJApyugvtaFj_qTQLnMoIWdb1vRv54PYf9HkXpA6Nn6vDnUn2G2c5dTCzRq6rAbXX-YvRqJsEffVlzcRUR2RxM4RXsNG6qkGPHujm0mcUgXWnm07K_97uSX-t2auXyac9kSksZrwb97EdNfvXBv2VYGNhPE_f2XtfXIiJAurmaL8MS2EbUmoj0Xnz9uj1PewPLKiLGJmhiOPf7RGiP4uSSz6JsJLPqZv62bmmDeCwat5s_-JYMCuILX65MecmG2YjSdwMTyxyhcrSw-amdSe9bBHDaHiN3LUSVfQWrl1ha31GrhaYS_tlYo3Oy0SenaYsVY4pkcBRjLirlL6-wD4AqgtKz5S-_o_LkYSmETScHx80uLGroVq32qRQAZ7kurTyFK7yLEIQ3eBVV_AKvDMEv9aQXvsXIJXnvkqVe_NGgB7SR63YlluEUuJmltjLMsMfxdyNd0kJ5b3QLFlVd0HS3Z8lpVq5HTCSiOI7qZDq5xZpeCBTeOZ5kwTIzUYoPCajVg9S5S09vQhaIHUEt_cu8cyv4BlTCLSzDeps7JrjuxgndWp3D1pzY0aJTGkuhtyo6z91stvf3_8Z9z3TW1jsnrx-PCwsiB6-Q04AWo5eu7PSSQTeGEOaP6GQf5XPeGW7ffuzFTRDPfri9FfdetIirgGxpNqYJY8NQJFY_rQCGvxK-mmgiePIRX5Ywj1BJAb5PamcSI5VomUg5IukRsz661pMeYM_L4cVjTDlgNg" nonce="abb9a51c66dedadfd05291167854c4b7" charset="UTF-8"></script><script type="text/javascript" src="https://me.kis.v2.scr.kaspersky-labs.com/FD126C42-EBFA-4E12-B309-BB3FDD723AC1/main.js?attr=AUWbaxLYNZk88cn5hp_V9aihTSpM0yryVPXPNbXRvRpowKMhxqSSj0UxHw7eMtzCeAnGXhBXSag6FKqM9_8lFet_WpKE0tw6EmWZvAsPwI5gDxDUqJQjJbhxO2xR8LObE-ywpve-h28WS8rt424WGQtCPBkHGeeRj-pQWkBuI-edaeEPXCF_37E5hBQu5ihvGhV_hCc4v7ZtH1l91QsygpA7ktme1s7FDn0rAcs_-Vvf3bI6008uPY9lKXSv17TB00iAQigBoAUSFOA58FMxnQ_kAyVhwCfFoJYls4h2VaEVDm4qIJYoxdvzgBAk3J8Z0Yj3Pw3--iH_88LusOrTPpPuUwCVKS3av_wlVVGvKSh3HEe8crNb4tk_CgTYKWgwKfocVHQzckM_a8W3OMqNzDSopIgFXyoGsL0uZjvA6r4s_sJxBQNugMcX1HHq73EM0aQe3lRHOCX7jIHDhAWeUM1bi4m2fJ49Hh51MEqMrCELp2id3KvKvqH0Jyn7q40LN5SRTmZxbJRFMjuXjs5holq7uWyIp_Lhw-z5DXyEQzYvYgR1uxBExuXypdnQ7EIIRxPLhxdwFZKXOEft0uUnw0WnsXKZlN4aq-dSFNbjlbeGbUEKN8ac2t5hJoyNDCc3ZicLDzo7fFGtkiH7MHMwsaXgoZOULcpJiFSE5C8_UGmWZcIbIgcV4aTCfVl64aKyQA3n2619-Ui7cW_xR-UTpuVn78srVPHnyNx74MB0ZD1CMYxl1BovYFeufCrnTIDcnaF4mmAS6FOIg53ragM1jn0M6mLosICkFlmy-dadtTZv04skqBS9a1mVs1g4QTQeynt_uFPAM94pQ6nR9kbneydop2zj3dg3qt53EzETvegEwgVuEOV3ZRrF1dOabl5mfh5-ZQXm85MmbqOW7fzC0grRWQBbkHulOSdi2rH29fTjbyeimo8iT79oXK9hI7JBLRGTmy1zB843_YPHSexAeOb38cRB2RXgy99SsLT4NMkUnbv1pECbynwYmx7RPGNd7mDg9FsB1VT2wkfYwsYrfO32aRF5dvpG0I4XW5k4v8apdJFQky087K-VSqDK6JKE_8QwqcTdLq7mWilupw15tEa9jfvoHsrq0Ib1Rn4LqrQsYfRgx66oPilF-3DHhsSGJO-39lbJjOrw9q4wWRfa91VrcjGPr4zGv3qFLsa6mglrrvkx3C6ydIk67FCR8wX8psS4EafqSoCfSgSgtS8OpmE_SVPkTGJgbdtygpNfuXAHndMnSizomVFLt-aAK8cPGF9BNJYrH45aVOiaDHgwHrfdHOFHtkk7kod3sx66GBUKF2yru9Kq7T9uqRkHcfIXfxNnyni_81cr5sRQRMP8AUj1E0Yb9GTGSC_bGzW3EWH-9xn6BiFyI87qZrQGMLbgD_a3nEIV9AlZrPkLxLyXmpPpkk7UGSY9PNVcNNJfwROgo4W3ZeqEDvIy6kn7ENe3urlUcSajmYaajm2z4Pii4DHm4-WyfTb0USgdxEZcLrPnRucVPGkrgV9BifQDgtSZl_KREIwntLunZVZWTwbQoRUONPV8NhbrmjMhsuVKD535UkdgvrhKhv6NeRxDywCzCSt9fr_GgRfaIqBzP-m2-SWHOWmAgCOZwBA_NdxFUaATl-Iau0U-skV8wW_oS6IT9OY3YCjiBCEXr35MAv7IxFye2wlyUHjbQ6ima6ZSSU89b3bNDav-aQbS5wTW-eT2laEtYot2w6YplI1HkfApL6OeVJrG8-TK3KTZK1iOnyI" nonce="e1cec2dcd30486cfbc5f79a03c42260c" charset="UTF-8"></script><style>
        body {
            margin: 0;
            font-family: 'Roboto', sans-serif;
            background: url('bgimage.png') no-repeat center center/cover;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            position: relative;
        }

        /* Dark overlay effect */
        body::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: -1;
        }

        /* Navbar Styling */
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 2rem;
            background-color: white;
            color: black;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            position: relative;
            z-index: 1;
        }

        .logo img {
            width: 120px;
            height: auto;
        }

        .home-btn {
            font-size: 1.5rem;
            color: #000000;
            background: none;
            border: none;
            cursor: pointer;
            transition: color 0.3s ease;
        }

        .home-btn:hover {
            color: #e07415;
        }

        .navbar {
            display: flex;
            align-items: center;
        }

        .navbar ul {
            list-style: none;
            display: flex;
            gap: 1rem;
            margin: 0;
            padding: 0;
        }

        .navbar a {
            text-decoration: none;
            color: black;
            font-weight: 500;
            transition: color 0.3s ease;
        }

        .navbar a:hover {
            color: #e07415;
        }

        /* Buyer Button Styling */
        .role-btn {
            background-color: #ef7300;
            color: white;
            border: none;
            padding: 0.6rem 1.2rem;
            border-radius: 25px;
            font-weight: 500;
            cursor: pointer;
            margin-right: 1rem;
            transition: background-color 0.3s ease;
        }

        .role-btn:hover {
            background-color: #d96400;
        }

        /* Sidebar & Main Content */
        .main-content {
            display: flex;
            flex: 1;
            padding: 2rem;
        }

        .sidebar {
    width: 250px;
    padding: 1rem;
    background: rgba(255, 255, 255, 0.85); /* Light transparency */
    backdrop-filter: blur(10px); /* Frosted effect */
    border-radius: 10px; /* Smooth edges */
    border-right: 2px solid rgba(255, 255, 255, 0.2); /* Subtle border */
    border-top-right-radius: 0;
    border-bottom-right-radius: 0;
}

        .sidebar h3 {
            text-align: center;
            margin-bottom: 1rem;
        }

        .sidebar ul {
            list-style: none;
            padding: 0;
        }

        .sidebar li {
            padding: 0.8rem;
            border-radius: 5px;
            cursor: pointer;
            transition: background 0.3s;
        }

        .sidebar li:hover {
            background: #ef7300;
            color: white;
        }

        .sidebar a {
            text-decoration: none;
            color: inherit;
            display: block;
        }

        .blog-content {
    flex-grow: 1;
    padding: 1.5rem;
    background: rgba(255, 255, 255, 0.85); /* Light transparency */
    backdrop-filter: blur(10px); /* Frosted glass effect */
    border-radius: 10px; /* Smooth corners */
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); /* Soft shadow */
    position: relative;
    z-index: 1;
    border-top-left-radius: 0;
    border-bottom-left-radius: 0;
}

        .blog-content h2 {
            margin-bottom: 1rem;
        }

        .footer {
            padding: 1.5rem 2rem;
            background: black;
            color: white;
            text-align: center;
            margin-top: auto;
            position: relative;
            z-index: 1;
        }

        /* Sell Item Dropdown */
        .hidden {
            display: none;
        }

        #sell-options {
            list-style: none;
            padding-left: 20px;
            margin-top: 5px;
        }

        #sell-options li {
            padding: 0.5rem;
            cursor: pointer;
            border-radius: 5px;
            transition: background 0.3s;
        }

        #sell-options li:hover {
            background: #ef7300;
            color: white;
        }

        /* Submit Button Styling */
        .submit-btn {
            background-color: #28a745;
            color: white;
            border: none;
            padding: 0.6rem 1.2rem;
            border-radius: 25px;
            font-weight: 500;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
#
        .submit-btn:hover {
            background-color: #218838;
        }

    </style>
</head>

<body>

    <header class="header">
        <div class="logo">
            <img src="../static/image/minilogo.png" alt="NearbyNow Logo">
        </div>
        <nav class="navbar">
            <button class="role-btn" onclick="window.location.href='/slogin'">I'm a Buyer</button>

            <ul>
                <li><a href="/landing"><i class="fas fa-home home-btn"></i></a></li>
            </ul>
        </nav>
    </header>

    <div class="main-content">
        <aside class="sidebar">
            <h3>Seller</h3>
            <ul>
                <li><a href="/sellermyprofile">My Profile</a></li>
                <li onclick="toggleSellOptions()">Sell Item</li>
                <ul id="sell-options" class="hidden">
                    <li onclick="selectCategory('Homemade Food')">Homemade Food</li>
                    <li onclick="selectCategory('Crafts')">Crafts</li>
                    <li onclick="selectCategory('Paintings')">Paintings</li>
                </ul>
                <li onclick="loadContent('analytics')">Offer jobs</li>
            </ul>
        </aside>

        <section class="blog-content" id="content-area">
            <h2>Discover Local Businesses & Entrepreneurs</h2>
            <p>Connecting communities with small-scale businesses and sustainable products</p>
        </section>
    </div>

    <footer class="footer">
        <p>&copy; 2025 NearbyNow. All rights reserved.</p>
    </footer>

    <script>
        function toggleSellOptions() {
            const options = document.getElementById("sell-options");
            options.classList.toggle("hidden");
        }

        function selectCategory(category) {
            document.getElementById('content-area').innerHTML = `
                <h2>Sell Your Item</h2>
                <p>Category selected: <strong>${category}</strong></p>
                <form id="item-form" action="/uploaditems" method="POST" enctype="multipart/form-data">
                    <label for="title">Title:</label>
                    <input type="text" id="title" name="title" required><br><br>

                    <label for="price">Price:</label>
                    <input type="number" id="price" name="price" required><br><br>

                    <label for="desc">Description:</label>
                    <textarea id="desc" name="desc" required></textarea><br><br>

                    
                 <input type="text" id="category" value="${category}" name="category" required hidden>
                    <label for="image">Image:</label>
                    <input type="file" id="image" name="image" accept="image/*" required><br><br>

                    <button type="submit" >Post Item</button>
                </form>
            `;

            document.getElementById("item-form").addEventListener("submit", async function (event) {
                event.preventDefault(); // Prevent default form submission

                const formData = new FormData(this);

                try {
                    const response = await fetch(`/uploaditems`, {
                        method: "POST",
                        body: formData,
                    });

                    const result = await response.json();
                    if (result.success) {
                        alert("Item posted successfully!");
                        this.reset();
                    } else {
                        alert("Error: " + result.error);
                    }
                } catch (error) {
                    console.error("Error posting item:", error);
                    alert("An error occurred while posting the item.");
                }
            });
        }

        function loadContent(section) {
            if (section === 'analytics') {
                document.getElementById('content-area').innerHTML = `
                    <h2>Offer a Job</h2>
                    <p>Provide details about the job you want to offer.</p>
                    <form id="job-form">
                        <label for="job-title">Job Title:</label><br>
                        <input type="text" id="job-title" name="job-title" required><br><br>

                        <label for="job-desc">Job Description:</label><br>
                        <textarea id="job-desc" name="job-desc" required></textarea><br>
                        <small id="desc-error" style="color: red;"></small><br>

                        <label for="contact">Contact Number:</label><br>
                        <input type="tel" id="contact" name="contact" required><br>
                        <small id="contact-error" style="color: red;"></small><br>

                        <button type="submit" class="submit-btn">Post Job</button>
                    </form>
                `;

                document.getElementById("job-form").addEventListener("submit", async function (event) {
                    event.preventDefault(); // Prevent form submission

                    const title = document.getElementById("job-title").value.trim();
                    const description = document.getElementById("job-desc").value.trim();
                    const contact = document.getElementById("contact").value.trim();

                    // Validate the input
                    if (title && description && /^\d{10}$/.test(contact)) {
                        try {
                            const response = await fetch("/submitjoboffer", {
                                method: "POST",
                                headers: {
                                    "Content-Type": "application/json",
                                },
                                body: JSON.stringify({
                                    title: title,
                                    description: description,
                                    contact: contact,
                                }),
                            });

                            const result = await response.json();
                            if (result.success) {
                                alert("Job posted successfully!");
                                document.getElementById("job-form").reset();
                            } else {
                                alert("Error: " + result.error);
                            }
                        } catch (error) {
                            console.error("Error submitting job offer:", error);
                            alert("An error occurred while submitting the job offer.");
                        }
                    } else {
                        alert("Please fill out all fields correctly.");
                    }
                });
            }
        }
    </script>

</body>

</html>
